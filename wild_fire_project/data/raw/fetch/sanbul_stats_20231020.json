import json
import os

# 데이터 파일 경로
file_path = '../data/raw/fetch/sanbul_stats_20231020.json'

# 파일 존재 여부 확인
if not os.path.exists(file_path):
    print(f"파일이 존재하지 않습니다: {file_path}")
else:
    # JSON 파일 읽기
    with open(file_path, 'r', encoding='utf-8') as f:
        data = json.load(f)

    # 데이터 타입 및 키 확인
    print(f"데이터 타입: {type(data)}")
    if isinstance(data, dict):
        print("상위 키들:", list(data.keys()))

    # 데이터 일부 미리보기 (예: data['data'] 혹은 실제 데이터 위치에 맞게 수정)
    # 데이터 위치는 API마다 다를 수 있으니 확인 필요
    sample_key = None
    for key in ['data', 'items', 'response', 'body']:
        if key in data:
            sample_key = key
            break

    if sample_key:
        print(f"'{sample_key}' 키 아래 데이터 일부:")
        sample_data = data[sample_key]
        # 리스트라면 앞 3개만 출력
        if isinstance(sample_data, list):
            for item in sample_data[:3]:
                print(item)
        else:
            print(sample_data)
    else:
        # 키를 찾지 못하면 전체 데이터 일부 출력
        print("데이터 일부:", list(data.items())[:3])
